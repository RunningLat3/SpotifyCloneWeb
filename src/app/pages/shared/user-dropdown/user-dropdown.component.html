<div class="user__info">
  <ng-container *ngIf="product">
    <button
      type="button"
      class="btn-upgrade"
      (click)="openLocation()"
      aria-roledescription="upgrade-button"
      *ngIf="product !== 'premium'"
    >
      Upgrade
    </button>
  </ng-container>

  <div
    class="user__dropdown"
    nz-dropdown
    nzTrigger="click"
    [nzDropdownMenu]="menu"
    [nzPlacement]="'bottomRight'"
    [(nzVisible)]="isDropDownVisible"
  >
    <figure class="w-7 h-7" [title]="name">
      <img [src]="avatar" alt="User Profile" class="rounded-img" />
    </figure>
    <span class="max-w-[110px] ml-2 text-xs text-white truncate">{{ name }}</span>
    <fa-icon [icon]="(isDropDownVisible ? faCaretUp : faCaretDown)" class="mx-2 text-[16px]"></fa-icon>
  </div>

  <!-- Dropdown Menu -->
  <nz-dropdown-menu #menu="nzDropdownMenu">
    <ul nz-menu class="dropdown-container">
      <li nz-menu-item class="dropdown-container__dropdown-item">
        <a
          class="text-description"
          href="https://www.spotify.com/account/overview"
          target="_blank"
        >
          Account
        </a>
      </li>
      <li nz-menu-item class="dropdown-container__dropdown-item">
        <a
          class="text-description"
          href="https://www.spotify.com/account/"
          target="_blank"
        >
          Profile
        </a>
      </li>
      <li nz-menu-item class="dropdown-container__dropdown-item">
        <a
          class="text-description"
          href="https://www.spotify.com/account/apps/"
          target="_blank"
        >
          Remove Access
        </a>
      </li>
      <li nz-menu-item class="dropdown-container__dropdown-item">
        <button class="text-description" (click)="logout()">Logout</button>
      </li>
    </ul>
  </nz-dropdown-menu>
</div>
